function createErrorList(){let e=document.createElement("ul");return e.setAttribute("role","alert"),e.classList.add("error"),e}function appendErrorList(e,t,r){e&&t.appendChild(r)}function removeErrorList(e,t){e.childElementCount>t&&e.removeChild(e.lastChild)}function appendError(e,t,r){t.appendChild(r),e.appendChild(t)}function checkLength(e,t,r){let n=!1;const o=document.createElement("li");let c;return e.length<r&&(n=!0,c=document.createTextNode("Troppo corto: minimo "+r+" caratteri"),0==e.length&&(c=document.createTextNode("Campo vuoto!")),appendError(t,o,c)),n}function checkNumbers(e,t,r){let n=!1;const o=document.createElement("li");let c;return r&&/\d/.test(e)&&(n=!0,c=document.createTextNode("Numeri non consentiti")),r||/\d/.test(e)||(n=!0,c=document.createTextNode("Deve contenere almeno un numero")),n&&appendError(t,o,c),n}function checkSpecial(e,t,r){let n=!1;const o=document.createElement("li");let c;return r&&/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(e)&&(n=!0,c=document.createTextNode("Caratteri speciali non consentiti")),r||/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(e)||(n=!0,c=document.createTextNode("Deve contenere almeno un carattere speciale")),n&&appendError(t,o,c),n}function validateName(){const e=document.getElementById("labelName");removeErrorList(e,0);const t=createErrorList();let r=!1;const n=document.getElementById("name").value.trim();r=checkLength(n,t,1)|checkNumbers(n,t,!0)|checkSpecial(n,t,!0),appendErrorList(r,e,t)}function validateSurname(){const e=document.getElementById("labelSurname");removeErrorList(e,0);const t=createErrorList();let r=!1;const n=document.getElementById("surname").value.trim();r=checkLength(n,t,1)|checkNumbers(n,t,!0)|checkSpecial(n,t,!0),appendErrorList(r,e,t)}function validateUsername(){const e=document.getElementById("labelUser");removeErrorList(e,0);const t=createErrorList();let r=!1;const n=document.getElementById("username").value.trim();if(r=checkLength(n,t,8),!/^[a-zA-Z0-9-_\.]*$/.test(n)){r=!0;appendError(t,document.createElement("li"),document.createTextNode("Gli unici caratteri speciali consentiti sono - _ ."))}if(0!=n&&!/^[a-zA-Z]/.test(n[0])){r=!0;appendError(t,document.createElement("li"),document.createTextNode("Il primo carattere deve essere una lettera."))}appendErrorList(r,e,t)}function validateYear(){const e=document.getElementById("labelYear");removeErrorList(e,0);const t=createErrorList();let r=!1;const n=document.getElementById("year"),o=n.getAttribute("min"),c=n.getAttribute("max");if(n.value<o||n.value>c){r=!0;appendError(t,document.createElement("li"),document.createTextNode("Inserire un anno compreso tra "+o+" e "+c))}appendErrorList(r,e,t)}function validatePassword(){const e=document.getElementById("labelPass");removeErrorList(e,0);const t=createErrorList();let r=!1;const n=document.getElementById("password").value.trim();if(r=checkLength(n,t,8)|checkNumbers(n,t,!1)|checkSpecial(n,t,!1),!/[A-Z]/.test(n)){r=!0;appendError(t,document.createElement("li"),document.createTextNode("Deve contenere almeno una lettera maiuscola"))}if(!/[a-z]/.test(n)){r=!0;appendError(t,document.createElement("li"),document.createTextNode("Deve contenere almeno una lettera minuscola"))}appendErrorList(r,e,t),validateCPass()}function validateCPass(){const e=document.getElementById("labelCPass");removeErrorList(e,1);const t=createErrorList();let r=!1;if(document.getElementById("password").value.trim()!=document.getElementById("check_password").value.trim()){r=!0;appendError(t,document.createElement("li"),document.createTextNode("Le password non corrispondono!"))}appendErrorList(r,e,t)}const yearField=document.getElementById("year"),currentYear=(new Date).getFullYear();yearField.setAttribute("max",currentYear),yearField.setAttribute("placeholder",currentYear);
